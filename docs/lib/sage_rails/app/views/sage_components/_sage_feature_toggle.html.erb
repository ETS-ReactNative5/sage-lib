<%
feature_toggle_title_tag = component.title_tag ? component.title_tag : "h3"
feature_toggle_icon_default_size = "3xl"
%>

<li class="sage-feature-toggle <%= "sage-feature-toggle--no-media" if component.image.blank? && component.icon.blank? %>">
  <<%= feature_toggle_title_tag %> class="sage-feature-toggle__title"><%= component.title %></<%= feature_toggle_title_tag %>>
  <div class="sage-feature-toggle__content">
    <p><%= component.description %></p>
    <div class="sage-feature-toggle__links">
      <% if component.links.present? %>
        <% component.links.each do | link | %>
          <% if link[:location].present? %>
            <%= sage_component SageButton, {
              value: link[:text],
              style: "primary",
              subtle: true,
              icon: { name: link[:icon], style: "right" },
              css_classes: "sage-feature-toggle__link-item",
              attributes: {
                href: (link[:location] if link[:location].present?),
                rel: ("noopener noreferrer" if link[:target].present? && link[:target] === "_blank"),
                target: (link[:target] if link[:target].present?),
              }.compact
            } %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>
  <% if content_for?(:sage_feature_toggle_input) %>
    <div class="sage-feature-toggle__aside">
      <%= content_for :sage_feature_toggle_input %>
    </div>
  <% end %>
  <% if component.icon.present? %>
    <div class="sage-feature-toggle__media-link">
      <%= sage_component SageIconCard, {
        attributes: {
          class: "sage-feature-toggle__media",
        },
        color: component.icon[:color],
        icon: component.icon[:icon],
        label: component.icon[:label] || component.alt_text || "",
        size: component.icon[:size] || feature_toggle_icon_default_size,
      } %>
    </div>
  <% end %>
  <% if component.image.present? %>
    <div class="sage-feature-toggle__media-link">
      <img class="sage-feature-toggle__media" src=<%= component.image %> alt="<%= component.alt_text %>" <%= "aria-hidden=true" if component.alt_text.blank? %> />
    </div>
  <% end %>
</li>
