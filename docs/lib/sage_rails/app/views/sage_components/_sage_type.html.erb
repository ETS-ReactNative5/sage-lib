<%
tag_type = "p"
type_spec = component.type_spec.present? ? component.type_spec : "BODY"
if component.tag.present?
  tag_type = component.tag

  if component.tag.start_with?("h") && !component.type_spec.present?
    type_spec = "HEADING_#{component.tag.scan(/\d/).first}"
  end
end

type_classname = "SageClassnames::TYPE::#{type_spec}".constantize

classes = "#{component.generated_css_classes} #{type_classname}".strip

if component.color.present?
  classes << " t-sage--color-#{component.color}"
end

if component.alignment.present?
  classes << " t-sage--align-#{component.alignment}"
end
%>

<% if component.content.kind_of?(Array) %>
  <% component.content.each do | item | %>
    <<%= tag_type %>
      class="<%= classes %>"
      <%= component.generated_html_attributes.html_safe %>
    >
      <%= item.html_safe %>
    </<%= tag_type %>>
  <% end %>
<% else %>
  <<%= tag_type %>
    class="<%= classes %>"
    <%= component.generated_html_attributes.html_safe %>
  >
    <%= component.content %>
  </<%= tag_type %>>
<% end %>
