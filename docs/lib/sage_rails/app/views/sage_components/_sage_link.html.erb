<%
label = component.label.html_safe
if component.truncate
  label = %(
    <span class="t-sage--truncate">
      #{component.label}
    </span>
  ).html_safe
end
%>
<% if component.help_link && component.show_label %>
  <a
    class="sage-link sage-link--help <%= component.generated_css_classes %>"
    href="<%= component.url %>"
    <% component.attributes.each do |key, value| %>
      <%= "#{key}=\"#{value}\"".html_safe %>
    <% end if component.attributes&.is_a?(Hash) %>
    <%= component.generated_html_attributes.html_safe %>
  >
    <%= label %>
  </a>
<% elsif component.help_link && !component.show_label %>
  <a
    class="sage-link sage-link--help-icon-only <%= component.generated_css_classes %>"
    href="<%= component.url %>"
    <% component.attributes.each do |key, value| %>
      <%= "#{key}=\"#{value}\"".html_safe %>
    <% end if component.attributes&.is_a?(Hash) %>
    <%= component.generated_html_attributes.html_safe %>
  >
    <span class="visually-hidden"><%= label %></span>
  </a>
<% elsif !component.external && !component.launch %>
  <a
    class="sage-link <%= component.generated_css_classes %>"
    href="<%= component.url %>"
    <% component.attributes.each do |key, value| %>
      <%= "#{key}=\"#{value}\"".html_safe %>
    <% end if component.attributes&.is_a?(Hash) %>
    <%= component.generated_html_attributes.html_safe %>
  >
    <%= label %>
  </a>
<% elsif !component.external && component.launch %>
  <a
    class="sage-link sage-link--launch <%= component.generated_css_classes %>"
    href="<%= component.url %>"
    <% component.attributes.each do |key, value| %>
      <%= "#{key}=\"#{value}\"".html_safe %>
    <% end if component.attributes&.is_a?(Hash) %>
    <%= component.generated_html_attributes.html_safe %>
  >
    <%= label %>
  </a>
<% elsif component.external && component.launch %>
  <a
    class="sage-link <%= component.generated_css_classes %>"
    href="<%= component.url %>"
    target="_blank"
    rel="noopener noreferrer"
    <% component.attributes.each do |key, value| %>
      <%= "#{key}=\"#{value}\"".html_safe %>
    <% end if component.attributes&.is_a?(Hash) %>
    <%= component.generated_html_attributes.html_safe %>
  >
    <%= label %>
  </a>
<% elsif component.external && !component.launch %>
  <a
    class="sage-link sage-link--no-launch <%= component.generated_css_classes %>"
    href="<%= component.url %>"
    target="_blank"
    rel="noopener noreferrer"
    <% component.attributes.each do |key, value| %>
      <%= "#{key}=\"#{value}\"".html_safe %>
    <% end if component.attributes&.is_a?(Hash) %>
    <%= component.generated_html_attributes.html_safe %>
  >
    <%= label %>
  </a>
<% end %>
