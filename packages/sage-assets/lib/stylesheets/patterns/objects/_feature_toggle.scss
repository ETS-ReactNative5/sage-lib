////
/// Feature Toggle
///
/// @group sage
////


$-feature-toggle-media-width: rem(120px);
$-feature-toggle-media-height-min: rem(64px);
$-feature-toggle-media-height-mobile: rem(120px);


.sage-feature-toggle {
  display: grid;
  grid-column-gap: sage-spacing(md);
  grid-row-gap: sage-spacing(sm);

  @media (max-width: sage-breakpoint(md-min)) {
    grid-template-columns: min-content min-content;
    grid-template-rows: $-feature-toggle-media-height-mobile auto auto;
    grid-template-areas:
      "img      aside"
      "title    title"
      "content  content";
  }

  @media (min-width: sage-breakpoint(md-min)) {
    grid-template-columns: min-content 1fr min-content;
    grid-template-rows: sage-spacing(md) auto;
    grid-template-areas:
      "img  title    aside"
      "img  content  content";
  }

  &.sage-feature-toggle--no-media {
    grid-template-columns: 1fr min-content;
    grid-template-rows: auto auto;
    grid-template-areas:
      "title    aside"
      "content  aside";
    grid-row-gap: sage-spacing(2xs);
  }
}

.sage-feature-toggle__title {
  grid-area: title;
  @extend %t-sage-heading-5;

  @include truncate();
}

.sage-feature-toggle__content {
  grid-area: content;

  p {
    @extend %t-sage-body-small;
    color: sage-color(charcoal, 200);
  }
}

.sage-feature-toggle__content--form {
  display: flex;
  align-items: center;
  flex-wrap: wrap;

  @media (min-width: sage-breakpoint(sm-min)) {
    flex-wrap: nowrap;
  }
}

.sage-feature-toggle__form-item {
  display: flex;
  align-items: center;
  margin-bottom: sage-spacing(md);

  @media (min-width: sage-breakpoint(sm-min)) {
    margin-right: sage-spacing(md);
    margin-bottom: 0;
  }

  &:first-of-type {
    flex-grow: 1;
  }

  &:last-of-type {
    margin-right: 0;
  }
}

.sage-feature-toggle__links {
  display: flex;
  flex-wrap: wrap;
}

.sage-feature-toggle__aside {
  grid-area: aside;
  padding-right: sage-spacing(xs);

  .sage-feature-toggle--no-media & {
    align-self: center;
  }
}

.sage-feature-toggle__link-item {
  margin-top: sage-spacing(xs);
  margin-right: sage-spacing(sm);
}

.sage-feature-toggle__aside {
  grid-area: aside;
  padding-right: sage-spacing(xs);
}

.sage-feature-toggle__media {
  display: flex;
  position: relative;
  grid-area: img;

  @media (min-width: sage-breakpoint(md-min)) {
    align-self: flex-start;
  }
}

.sage-feature-toggle__image {
  align-self: flex-start;
  max-width: rem(140px);
  width: $-feature-toggle-media-width;
  height: $-feature-toggle-media-width;
  border-radius: sage-border(radius);
  object-fit: cover;
}
