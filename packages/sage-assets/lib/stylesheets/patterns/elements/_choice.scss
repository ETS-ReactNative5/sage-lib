/* ==================================================
  ** _choice.scss
  type: element


================================================== */

$item-radio: "before";
$item-icon: "before";
$item-arrow: "before";

$-choice-color-default: map-get($sage-tab-colors, default);
$-choice-color-active: map-get($sage-tab-colors, active);
$-choice-color-disabled: map-get($sage-tab-colors, disabled);
$-choice-radio-size: $sage-radio-size;
$-choice-radio-color-checked: map-get($sage-radio-colors, checked);
$-choice-radio-color-checked-inner: map-get($sage-radio-colors, checked-inner);

.sage-choice {
  @include sage-button-style-reset();

  display: inline-flex;
  position: relative;
  align-items: center;
  flex-grow: 1;
  flex-basis: 0;
  padding: sage-spacing(sm);
  white-space: nowrap;
  color: $-choice-color-default;
  border: sage-border();
  border-radius: sage-border(radius);
  transition: map-get($sage-transitions, default);
  transition-property: color, background-color, border-color, box-shadow;

  @extend %t-sage-body-med;

  &::after {
    content: "";
    position: absolute;
    border: 2px solid transparent;
    border-radius: sage-border(radius);

    @include position(-1px, -1px, -1px, -1px);
  }

  &:hover {
    color: $-choice-color-active;
    background-color: sage-color(grey, 100);
  }

  &:focus {
    outline: none;

    &::after {
      border-color: sage-color(grey, 400);
    }
  }

  &:active,
  &.sage-choice--active {
    color: $-choice-color-active;

    &::after {
      border-color: sage-color(primary);
    }
  }

  &[aria-disabled="true"],
  &:disabled {
    background-color: sage-color(grey, 100);
    cursor: default;
    pointer-events: none;

    &::before {
      background-color: sage-color(grey, 200);
    }

    &:hover::before {
      box-shadow: none;
    }
  }

  .sage-tabs--layout-default &:not(:last-child) {
    @media (max-width: sage-breakpoint(sm-max)) {
      margin-bottom: sage-spacing(sm);
    }

    @media (min-width: sage-breakpoint(md-min)) {
      margin-right: sage-spacing(sm);
    }
  }

  .sage-tabs--align-items-center & {
    justify-content: center;
  }
}

.sage-choice--align-center {
  justify-content: center;
}

.sage-choice--arrow {
  flex-flow: row-reverse;

  &::#{$item-arrow} {
    @include sage-icon-base(caret-right, lg);

    margin: 0 0 0 sage-spacing(sm);
    color: sage-color(grey, 300);
    transition: color map-get($sage-transitions, default);
  }

  &:active,
  &.sage-choice--active {
    &::#{$item-arrow} {
      color: sage-color(primary);
    }
  }
}

[class*="sage-choice--icon-"] {
  &::#{$item-icon} {
    /* See icon generator */
    margin: 0 sage-spacing(xs) 0 0;
    color: currentColor;
    transition: color map-get($sage-transitions, default);
  }
}

.sage-choice--radio {
  &::#{$item-radio} {
    content: "";
    display: inline-block;
    box-sizing: border-box;
    height: $-choice-radio-size;
    min-width: $-choice-radio-size;
    width: $-choice-radio-size;
    margin: 0 sage-spacing(sm) 0 0;
    background-color: $-choice-radio-color-checked-inner;
    border-radius: sage-border(radius-round);
    border: sage-border();
    transition: map-get($sage-transitions, default);
    transition-property: border, box-shadow;
  }

  &:hover::#{$item-radio} {
    box-shadow: sage-shadow(sm);
  }

  &:active,
  &.sage-choice--active {
    &::#{$item-radio} {
      box-shadow: sage-shadow(sm);
      border-width: 5px;
      border-color: $-choice-radio-color-checked;
    }
  }
}

.sage-choice__content {
  display: flex;
  flex: 1;
  flex-direction: column;
  text-align: start;
  pointer-events: none;

  .sage-tabs--align-items-center &,
  .sage-choice--align-center & {
    flex: unset;
  }
}

.sage-choice__text {
  font-style: normal;
  color: sage-color(charcoal, 400);
}

.sage-choice__subtext {
  @extend %t-sage-body-small;

  color: sage-color(charcoal, 100);
}
